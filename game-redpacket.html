<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¥çº¢åŒ… - é©¬å¹´æ–°æ˜¥å°æ¸¸æˆ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "Microsoft YaHei", sans-serif;
        }
        body {
            background: linear-gradient(135deg, #f5eedc 0%, #f8f5f0 100%);
            min-height: 100vh;
            padding: 20px;
        }
        .game-header {
            text-align: center;
            margin-bottom: 20px;
        }
        .game-title {
            font-size: clamp(24px, 5vw, 36px);
            color: #e67e22;
            margin-bottom: 10px;
        }
        .back-btn {
            display: inline-block;
            padding: 8px 20px;
            background: linear-gradient(90deg, #e67e22, #d35400);
            color: #fff;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 600;
            margin-bottom: 15px;
        }
        /* æ¸¸æˆå®¹å™¨*/
        .game-container {
            max-width: 800px;
            margin: 0 auto;
            background-color: #fff;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
        }
        /* åˆ†æ•°æ˜¾ç¤ºï¼šæ©™è‰²æ–‡å­—ï¼Œå±…ä¸­ï¼ŒèƒŒæ™¯è‰²ï¼Œåœ†è§’ */
        .game-score {
            font-size: 20px;
            color: #e67e22;
            font-weight: 600;
            text-align: center; 
            margin-bottom: 15px;
            background-color: #f5eedc; 
            padding: 10px; 
            border-radius: 10px;
        }
        /* å€’è®¡æ—¶æ ·å¼ï¼šçº¢è‰²æ–‡å­—ï¼Œå±…ä¸­ï¼Œæµ…çº¢èƒŒæ™¯ï¼Œåœ†è§’ */
        .countdown {
            font-size: 20px; 
            color: #e74c3c;
            font-weight: 600;
            text-align: center;
            margin-bottom: 15px;
            background-color: #ffeaea;
            padding: 10px;
            border-radius: 10px;
        }
        /* æ¸¸æˆåŒºåŸŸï¼šå“åº”å¼é«˜åº¦ï¼Œæµ…èƒŒæ™¯ï¼Œåœ†è§’ï¼Œç›¸å¯¹å®šä½ï¼ˆä½œä¸ºå­å…ƒç´ ç»å¯¹å®šä½çš„å‚è€ƒï¼‰ï¼Œæº¢å‡ºéšè— */
        .game-area {
            width: 100%;
            height: clamp(300px, 60vw, 450px); /* å“åº”å¼é«˜åº¦ï¼š300pxåˆ°450pxä¹‹é—´ */
            background-color: #f8f5f0;
            border-radius: 10px;
            margin-bottom: 20px;
            position: relative;
            overflow: hidden; /* æº¢å‡ºéšè—ï¼Œé˜²æ­¢çº¢åŒ…è¶…å‡ºæ¸¸æˆåŒºåŸŸæ˜¾ç¤º */
        }

        /* ç©å®¶ï¼ˆæ¥çº¢åŒ…ç›’å­ï¼‰ï¼šç»å¯¹å®šä½ï¼ˆåº•éƒ¨å±…ä¸­ï¼‰ï¼Œå“åº”å¼å®½é«˜ï¼ŒèƒŒæ™¯å›¾ç‰‡ï¼Œåœ†è§’ï¼Œå±‚çº§é«˜äºçº¢åŒ… */
        .player {
            position: absolute;
            bottom: 20px;
            left: 50%; /* æ°´å¹³å±…ä¸­ï¼ˆé…åˆtransformï¼‰ */
            transform: translateX(-50%); /* å‘å·¦åç§»è‡ªèº«50%å®½åº¦ï¼Œå®ç°çœŸæ­£å±…ä¸­ */
            width: clamp(50px, 10vw, 80px);
            height: clamp(50px, 10vw, 80px);
            background-image: url("images/ç›’å­.png");
            background-size: cover; /* èƒŒæ™¯å›¾ç‰‡è¦†ç›–æ•´ä¸ªå…ƒç´  */
            border-radius: 8px;
            z-index: 10; 
            transition: left 0.1s ease; /* å·¦ç§»/å³ç§»åŠ¨ç”»è¿‡æ¸¡ï¼Œæ›´é¡ºæ»‘ */
        }
        /* æ™®é€šçº¢åŒ…ï¼šç»å¯¹å®šä½ï¼ˆé¡¶éƒ¨å¤–ï¼‰ï¼Œå“åº”å¼å®½é«˜ï¼ŒèƒŒæ™¯å›¾ç‰‡ï¼Œä¸‹è½åŠ¨ç”» */
        .red-packet {
            position: absolute;
            top: -50px; /* åˆå§‹ä½ç½®åœ¨æ¸¸æˆåŒºåŸŸä¸Šæ–¹ï¼Œé¿å…ç›´æ¥æ˜¾ç¤º */
            width: clamp(40px, 8vw, 60px);
            height: calc(clamp(40px, 8vw, 60px) * 1.415);
            background-image: url("images/çº¢åŒ….jpg");
            background-size: contain; /* èƒŒæ™¯å›¾ç‰‡å®Œæ•´æ˜¾ç¤ºï¼Œä¸è£å‰ª */
            background-position: center;
            background-repeat: no-repeat;
            animation: fall linear; /* ç»‘å®šä¸‹è½åŠ¨ç”»ï¼Œçº¿æ€§é€Ÿåº¦ */
        }
        /* é™·é˜±çº¢åŒ…ï¼ˆç‚¸å¼¹ï¼‰ï¼šæ ·å¼ä¸æ™®é€šçº¢åŒ…ç±»ä¼¼ï¼Œä»…èƒŒæ™¯å›¾ç‰‡å’Œé«˜åº¦ä¸åŒ */
        .trap-packet {
            position: absolute;
            top: -50px;
            width: clamp(40px, 8vw, 60px);
            height: clamp(50px, 10vw, 70px);
            background-image: url("images/ç‚¸å¼¹.jpg");
            background-size: cover;
            animation: fall linear; /* ä¸‹è½åŠ¨ç”» */
        }

        /* ä¸‹è½åŠ¨ç”»å…³é”®å¸§ï¼šä»åˆå§‹ä½ç½®ç§»åŠ¨åˆ°æ¸¸æˆåŒºåŸŸåº•éƒ¨ */
        @keyframes fall {
            to {
                transform: translateY(clamp(300px, 60vw, 450px)); /* Yè½´å¹³ç§»åˆ°æ¸¸æˆåŒºåŸŸåº•éƒ¨é«˜åº¦ */
            }
        }

        /* æ¸¸æˆç»Ÿè®¡ï¼šå¼¹æ€§å¸ƒå±€ï¼Œå‡åŒ€åˆ†å¸ƒï¼ŒèƒŒæ™¯è‰²ï¼Œåœ†è§’ */
        .game-stats {
            display: flex;
            justify-content: space-around;
            margin-bottom: 20px;
            padding: 10px;
            background-color: #f5eedc;
            border-radius: 10px;
        }

        /* ç»Ÿè®¡é¡¹ */
        .stat-item {
            font-size: 16px;
            color: #e67e22;
            font-weight: 600;
        }
        /* æ¸¸æˆæ§åˆ¶æŒ‰é’®å®¹å™¨ */
        .game-controls {
            display: flex; 
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
            margin-bottom: 20px;
        }
        /* æ¸¸æˆæŒ‰é’® */
        .game-btn {
            padding: 10px 25px;
            background: linear-gradient(90deg, #e67e22, #d35400); 
            color: #fff; 
            border: none; 
            border-radius: 8px; 
            font-size: 16px; 
            font-weight: 600;
            cursor: pointer;
            flex: 1; 
            min-width: 100px;
        }
        /* ç§»åŠ¨æ§åˆ¶æŒ‰é’®å®¹å™¨ */
        .move-controls {
            display: flex;
            justify-content: center;
            gap: 20px; 
            margin-bottom: 20px;
        }
        /* ç§»åŠ¨æŒ‰é’®*/
        .move-btn {
            padding: 15px 30px;
            background: linear-gradient(90deg, #3498db, #2980b9);
            color: #fff;
            border: none;
            border-radius: 8px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            min-width: 120px;
        }
        /* æ’è¡Œæ¦œæ ·å¼:AIç»™çš„é¢å¤–çš„ï¼Œæ²¡æœ‰æ•°æ®åº“æ¥å‚¨å­˜æ•°æ®ï¼Œæ‰€ä»¥è¿™æ²¡ä»€ä¹ˆç”¨ */
        .game-rank {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 2px solid #f5eedc;
        }
        /* æ’è¡Œæ¦œæ ‡é¢˜ */
        .rank-title {
            font-size: 18px;
            color: #e67e22;
            margin-bottom: 10px;
            text-align: center;
        }
        .rank-list {
            list-style: none;
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        .rank-list li {
            padding: 8px 15px;
            background-color: #fff;
            border-radius: 8px;
            display: flex;
            justify-content: space-between;
            border-left: 3px solid #f1c40f;
        }
        /* éœ‡åŠ¨åŠ¨ç”»ï¼šç©å®¶æ¥åˆ°é™·é˜±çº¢åŒ…æ—¶çš„éœ‡åŠ¨æ•ˆæœ */
        @keyframes shake {
            0%, 100% {
                transform: translateX(-50%) rotate(0deg); /* åˆå§‹/ç»“æŸçŠ¶æ€ï¼šå±…ä¸­ï¼Œæ— æ—‹è½¬ */
            }
            25% {
                transform: translateX(-50%) rotate(-5deg); /* å‘å·¦æ—‹è½¬5åº¦ */
            }
            75% {
                transform: translateX(-50%) rotate(5deg); /* å‘å³æ—‹è½¬5åº¦ */
            }
        }

        /* æ¸¸æˆç»“æŸæç¤º */
        .game-over {
            position: absolute; 
            top: 50%; 
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: clamp(24px, 6vw, 40px);
            color: #e74c3c;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3); 
            display: none;
            z-index: 100;
        }
    </style>
</head>

<body>
    <div class="game-header">
        <a href="main.html" class="back-btn">â† è¿”å›ä¸»é¡µé¢</a>
        <h1 class="game-title">æ¥çº¢åŒ… ğŸ§§</h1>
        <p>æ¥åˆ°çº¢åŒ…åŠ 5åˆ†,ç‚¸å¼¹æ‰£10åˆ†ï¼Œå…±è®¡60ç§’ã€‚</p>
    </div>
    <!-- æ¸¸æˆä¸»å®¹å™¨ -->
    <div class="game-container">
        <div class="game-score" id="redPacketScore">å¾—åˆ†ï¼š0</div>
        <div class="countdown" id="countdown">å€’è®¡æ—¶ï¼š60ç§’</div>

        <!-- æ¸¸æˆæ ¸å¿ƒåŒºåŸŸï¼šç©å®¶ + çº¢åŒ…/é™·é˜±çº¢åŒ… + æ¸¸æˆç»“æŸæç¤º -->
        <div class="game-area" id="redPacketGameArea">
            <div class="player" id="player"></div>
            <div class="game-over" id="gameOver">æ¸¸æˆç»“æŸï¼</div>
        </div>
        <!-- æ¸¸æˆç»Ÿè®¡ï¼šå·²æ¥çº¢åŒ…æ•° + é™·é˜±çº¢åŒ…æ•° -->
        <div class="game-stats">
            <div class="stat-item">å·²æ¥çº¢åŒ…ï¼š<span id="redPacketCount">0</span></div>
            <div class="stat-item">é™·é˜±çº¢åŒ…ï¼š<span id="trapCount">0</span></div>
        </div>

        <!-- ç§»åŠ¨æ§åˆ¶æŒ‰é’®ï¼šå·¦ç§»/å³ç§» -->
        <div class="move-controls">
            <button class="move-btn" id="moveLeftBtn">â† å·¦ç§»</button>
            <button class="move-btn" id="moveRightBtn">å³ç§» â†’</button>
        </div>

        <!-- æ¸¸æˆæ§åˆ¶æŒ‰é’®ï¼šå¼€å§‹/ç»§ç»­ + æš‚åœ + é‡ç½® -->
        <div class="game-controls">
            <button class="game-btn" id="startRedPacketGame">å¼€å§‹</button>
            <button class="game-btn" id="pauseRedPacketGame" disabled>æš‚åœ</button>
            <button class="game-btn" id="resetRedPacketGame" disabled>é‡ç½®</button>
        </div>

        <!-- æ’è¡Œæ¦œåŒºåŸŸ -->
        <div class="game-rank">
            <h3 class="rank-title">æ’è¡Œæ¦œ</h3>
            <ul class="rank-list" id="rankList"></ul>
        </div>
    </div>

    <script src="jsp/game-redpacket.js"></script>
</body>

</html>